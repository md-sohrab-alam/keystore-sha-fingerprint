<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Keystore SHA Fingerprint Generator</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="container py-5">
    <h1 class="mb-4">Keystore SHA Fingerprint Generator</h1>
    <% if (error) { %>
      <div class="alert alert-danger"><%= error %></div>
    <% } %>
    <% if (result) { %>
      <div class="alert alert-success">
        <h5>SHA-1:</h5>
        <div class="input-group mb-2">
          <input type="text" class="form-control" id="sha1" value="<%= result.sha1 %>" readonly>
          <button class="btn btn-outline-secondary" type="button" onclick="copyToClipboard('sha1', this)">Copy</button>
        </div>
        <h5 class="mt-3">SHA-256:</h5>
        <div class="input-group mb-2">
          <input type="text" class="form-control" id="sha256" value="<%= result.sha256 %>" readonly>
          <button class="btn btn-outline-secondary" type="button" onclick="copyToClipboard('sha256', this)">Copy</button>
        </div>
      </div>
    <% } %>
    <form action="/upload" method="POST" enctype="multipart/form-data" class="mt-4">
      <div class="mb-3">
        <label for="keystore" class="form-label">Keystore (.jks) file</label>
        <input class="form-control" type="file" id="keystore" name="keystore" accept=".jks" required>
      </div>
      <div class="mb-3">
        <label for="keystorePassword" class="form-label">Keystore Password</label>
        <input class="form-control" type="password" id="keystorePassword" name="keystorePassword" required>
      </div>
      <div class="mb-3">
        <label for="keyAlias" class="form-label">Key Alias</label>
        <input class="form-control" type="text" id="keyAlias" name="keyAlias" required>
      </div>
      <div class="mb-3">
        <label for="keyPassword" class="form-label">Key Password (optional)</label>
        <input class="form-control" type="password" id="keyPassword" name="keyPassword">
      </div>
      <div class="mb-3">
        <label for="javaVersion" class="form-label">Java Version <span class="text-muted">(Advanced)</span></label>
        <select class="form-select" id="javaVersion" name="javaVersion">
          <option value="17" selected>17 (default)</option>
          <option value="11">11</option>
          <option value="8">8</option>
        </select>
      </div>
      <button type="submit" class="btn btn-primary">Generate Fingerprints</button>
    </form>
  </div>
  <script>
    function copyToClipboard(id, btn) {
      const input = document.getElementById(id);
      input.select();
      input.setSelectionRange(0, 99999); // For mobile
      document.execCommand('copy');
      btn.innerText = 'Copied!';
      setTimeout(() => { btn.innerText = 'Copy'; }, 1200);
    }
  </script>
</body>
</html> 